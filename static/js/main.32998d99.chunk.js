(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,function(e,t,n){e.exports=n(16)},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a,r=n(0),l=n.n(r),o=n(4),c=n.n(o),i=(n(13),n(1)),u=(n(14),n(2));n(15);function s(e){return e<10?"0".concat(e):e.toString()}function h(e){var t="-"===e.charAt(0)?-1:1,n=(t<0?e.substring(1):e).split(":").map(function(e){return parseInt(e,10)}),a=Object(i.a)(n,2);return t*(60*a[0]+a[1])}function g(e){var t=e<0?"-":"",n=Math.abs(e),a=Math.floor(n/60),r=n-60*a;return"".concat(t).concat(s(a),":").concat(s(r))}!function(e){e.WORK="WORK",e.FULL="FULL",e.HALF="HALF"}(a||(a={}));var d=function(e){var t=e.date.getDay(),n=6===t||0===t,r=e.log.leaveType===a.FULL;function o(t){var n=Object(u.a)({},e.log,t),a=function(){if(n.startedAt&&n.finishedAt){var e=h(n.startedAt),t=h(n.finishedAt)-e;return g(t<270?t:t<540?t-30:t<810?t-60:t-90)}}();e.onLogChange(Object(u.a)({},n,{working:a}))}return l.a.createElement("tr",null,l.a.createElement("td",null,e.date.getDate()),l.a.createElement("td",null,l.a.createElement("select",{disabled:n,value:e.log.leaveType,onChange:function(e){return o({leaveType:e.target.value})}},l.a.createElement("option",{value:a.WORK},"Work"),l.a.createElement("option",{value:a.FULL},"Full"),l.a.createElement("option",{value:a.HALF},"Half"))),l.a.createElement("td",null,l.a.createElement("input",{disabled:n,readOnly:!n&&r,type:"time",value:e.log.startedAt||"",onChange:function(e){return o({startedAt:e.target.value||void 0})}})),l.a.createElement("td",null,l.a.createElement("input",{disabled:n,readOnly:!n&&(r||""===e.log.startedAt),type:"time",value:e.log.finishedAt||"",onChange:function(e){return o({finishedAt:e.target.value||void 0})}})),l.a.createElement("td",null,e.log.working||"--:--"),l.a.createElement("td",null,e.log.balance))},m=function(e){var t=e.yearMonth.split("-").map(function(e){return parseInt(e,10)}),n=Object(i.a)(t,2),r=n[0],o=n[1],c=e.logs.map(function(t,n){var c=n+1;return l.a.createElement(d,{key:n,date:new Date(r,o-1,c),log:t,onLogChange:function(t){var r=e.logs.slice();r[n]=t;var l=0;e.onLogsChange(r.map(function(e){if(e.working){var t=60*(e.leaveType===a.HALF?4:8),n=h(e.working)-t;l+=n}return Object(u.a)({},e,{balance:g(l)})}))}})});return l.a.createElement("article",null,l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Leave"),l.a.createElement("th",null,"Started"),l.a.createElement("th",null,"Finished"),l.a.createElement("th",null,"Working"),l.a.createElement("th",null,"Balance"))),l.a.createElement("tbody",null,c)))},f=function(e){return l.a.createElement("header",null,"HCWH: ",e.yearMonth)},v=n(5),p=n(6),E="logsSet",b=new(function(){function e(){Object(v.a)(this,e),this.hash={};var t=localStorage.getItem(E);null===t?localStorage.setItem(E,"{}"):this.hash=JSON.parse(t)}return Object(p.a)(e,[{key:"getLogs",value:function(e){if(e in this.hash)return this.hash[e];var t=e.split("-").map(function(e){return parseInt(e)}),n=Object(i.a)(t,2),r=function(e,t){return new Date(e,t,0).getDate()}(n[0],n[1]),l=Array(r).fill({leaveType:a.WORK,startedAt:void 0,finishedAt:void 0,working:void 0,balance:"00:00"});return this.setLogs(e,l),l}},{key:"setLogs",value:function(e,t){this.hash[e]=t,localStorage.setItem(E,JSON.stringify(this.hash))}}]),e}()),y=function(){var e=Object(r.useState)("2019-05"),t=Object(i.a)(e,2),n=t[0],a=(t[1],Object(r.useState)(b.getLogs(n))),o=Object(i.a)(a,2),c=o[0],u=o[1];return l.a.createElement("div",{className:"App"},l.a.createElement(f,{yearMonth:"2019-05"}),l.a.createElement(m,{yearMonth:n,logs:c,onLogsChange:function(e){u(e),b.setLogs(n,e)}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[7,1,2]]]);
//# sourceMappingURL=main.32998d99.chunk.js.map